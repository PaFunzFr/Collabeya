<section class="message-list" #messageContainer>
    @if (isChannel && getChannelMessages()) {
        @for (message of getChannelMessages(); track message; let index = $index) {
            @if (shouldShowDateSeparator(index, getChannelMessages())){
                <div class="date-separator">
                    <p>{{ formatDate(message.createdAt.toDate()) }}</p>
                </div>
            }
            @if (message.threadMessages) {
                <app-chat-message
                    [isOwnMessage]="false"
                    [message]="message"
                    [paddingHorizontal]="'65'"
                    [isChannelMessage]="isChannel">
                </app-chat-message>
            }
        }
    } @else if (isThread && getThreadMessages()) {
        @if (currentThreadActive()) {
            <app-chat-message
                [threadTitle]="getCurrentThreadMessage()"
                [isOwnMessage]="false"
                [paddingHorizontal]="'16'"
                [isThreadTitle]="true">
            </app-chat-message>
            <div class="answers-seperator"></div>
            @for (message of getThreadMessages(); track message; let index = $index) {
                @if (shouldShowDateSeparator(index, getThreadMessages())) {
                    <div class="date-separator">
                        <p>{{ formatDate(message.createdAt.toDate()) }}</p>
                    </div>
                }
                @if (message) {
                <app-chat-message
                    [isOwnMessage]="true"
                    [threadMessage]="message"
                    [paddingHorizontal]="'16'"
                    [isThreadMessage]="isThread">
                </app-chat-message>
                }
            } 
        }
    }
</section>