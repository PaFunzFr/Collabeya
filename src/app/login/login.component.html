<header class="login-header">
  <div class="header-logo" routerLink="/login">
    <img src="./assets/icons/general/collabeya_logo.png" alt="" />
    <img
      [src]="
        './assets/icons/general/collabeya_logo_title_' +
        signalService.themeColorMain() +
        '.png'
      "
      alt=""
    />
  </div>

  @if (signalService.isLoginDialog()) {
  <div class="register-box">
    <p>New at CollaBeya?</p>
    <a class="register" (click)="signalService.showRegisterDialog()"
      >Register</a
    >
  </div>
  }
</header>

<main class="dialog-wrapper">
  @if (signalService.isLoginDialog()) {
  <app-login-dialog></app-login-dialog>

  <div class="register-box-mobile">
    <p>New at CollaBeya?</p>
    <a class="register" (click)="signalService.showRegisterDialog()"
      >Register</a
    >
    <button
      class="info-btn"
      type="button"
      #popupBtn
      (click)="togglePopup(); $event.stopPropagation()"
    >
      i
    </button>
    @if (signalService.popupOpen()) {
    <div class="popup" (clickOutside)="signalService.popupOpen.set(false)">
      <a
        routerLink="/privacy-policy"
        (click)="signalService.popupOpen.set(false)"
        >Privacy policy</a
      >
      <a routerLink="/legal-notice" (click)="signalService.popupOpen.set(false)"
        >Legal notice</a
      >
    </div>
    }
  </div>

  } @if (signalService.isRegisterDialog()) {
  <app-register-dialog></app-register-dialog>
  } @if (signalService.isPasswordForgottenDialog()) {
  <app-password-dialog></app-password-dialog>
  } @if (signalService.isPasswordResetDialog()) {
  <app-password-reset-dialog></app-password-reset-dialog>
  } @if (signalService.isChoosingAvatarDialog()) {
  <app-choose-avatar-dialog></app-choose-avatar-dialog>
  }
</main>

<footer class="login-footer">
  <a class="router-link" routerLink="/privacy-policy">Privacy policy</a>
  <a class="router-link" routerLink="/legal-notice">Legal notice</a>
</footer>
